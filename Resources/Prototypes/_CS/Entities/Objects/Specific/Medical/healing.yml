- type: entity
  name: repair patch
  description: A sealed, single-use adhesive patch to patch up damaged areas. For synthetic use only.
  parent: BaseHealingItem
  id: RepairPatch
  suffix: Full
  components:
  - type: Tag
    tags:
    - RepairPatch
  - type: Sprite
    sprite: _CS/Objects/Specific/Medical/robotopicals.rsi
    state: synth_patch
  - type: Construction
    graph: RepairPatch
    node: repairpatch
  - type: StaticPrice
    vendPrice: 3000
  - type: Healing
    delay: 2
    damageContainers:
    - Silicon
    - IPC
    damage:
      types:
        Piercing: -20
        Slash: -20
        Blunt: -20
        # Structural: -2.5 # please use Autosolder.
    bloodlossModifier: -8 # doesn't stop open hemorrhaging
    healingBeginSound:
      path: "/Audio/Items/Medical/brutepack_begin.ogg"
      params:
        volume: 1.0
        variation: 0.125
    healingEndSound:
      path: "/Audio/Items/Medical/brutepack_end.ogg"
      params:
        volume: 1.0
        variation: 0.125
  - type: Stack
    stackType: RepairPatch
    count: 10
  - type: StackPrice
    price: 5

- type: entity
  id: RepairPatch1
  parent: RepairPatch
  suffix: Single
  components:
  - type: Stack
    stackType: RepairPatch
    count: 1

- type: entity
  id: RepairPatch10Lingering
  parent: RepairPatch
  suffix: 10, Lingering
  components:
  - type: Stack
    lingering: true
    count: 10

- type: entity
  name: repair spray
  description: A single-use spray gun to fill damaged areas with polyurethane-based expanding foam. For synthetic use only.
  parent: BaseHealingItem
  id: RepairSpray
  components:
#  - type: Tag
#    tags:
#    - Brutepack
  - type: Sprite
    sprite: _CS/Objects/Specific/Medical/robotopicals.rsi
    state: robofoam
  - type: Item
#    heldPrefix: brutepack
    shape:
    - 0,0,1,0
  - type: StaticPrice
    vendPrice: 5000
  - type: Healing
    delay: 1
    damageContainers:
    - Silicon
    - IPC
    damage:
      types:
        # Piercing: -60 # Better if brutes are handled by the repair patch imo
        # Slash: -60 # Ditto
        # Structural: -10 # good, but please use autosolder.
        Cold: -40
        Heat: -40 # not useless, but please use autosolder.
        Shock: -40
        Bloodloss: -40
    bloodlossModifier: -10 # stops bleeding
    ModifyBloodLevel: 50 # restores a lot of internal fluid
    healingBeginSound:
      path: "/Audio/Items/canopen.ogg"
      params:
        volume: 1.0
        variation: 0.125
    healingEndSound:
      path: "/Audio/Items/hiss.ogg"
      params:
        volume: 1.0
        variation: 0.125

- type: entity
  name: repair spray+ # unobtainable. for now.
  description: A single-use spray gun to fill damaged areas with polyurethane-based expanding foam. For synthetic use only.
  parent: [BaseHealingItem,RepairSpray]
  id: RepairSprayPlus
  components:
  - type: Tag
    tags:
    - Brutepack
  - type: Sprite
    sprite: _CS/Objects/Specific/Medical/robotopicals.rsi
    state: robofoam_super
  - type: Healing
    damageContainers:
    - Silicon
    - IPC
    damage:
      types:
        Blunt: -20
        Piercing: -30
        Slash: -30
        # Structural: -10 # very. good.
        Cold: -35
        Heat: -35
        Shock: -35

- type: entity
  name: synthetic emergency autoinjector
  parent: ChemicalMedipen
  id: RepairAutoinjector
  description: Prevents system failure and instantly restores the system partially. Always seek medical attention after averted system failure.
  components:
  - type: Item
    inhandVisuals:
      left:
      - state: base-needle-inhand-left
      - state: base-colorA-inhand-left
        color: "#5d81c7"
      - state: base-colorB-inhand-left
      right:
      - state: base-needle-inhand-right
      - state: base-colorA-inhand-right
        color: "#5d81c7"
      - state: base-colorB-inhand-right
  - type: Sprite
    sprite: _CS/Objects/Specific/Medical/robotopicals.rsi
    layers:
    - state: robor
      map: ["enum.SolutionContainerLayers.Fill"]
  - type: SolutionContainerVisuals
    maxFillLevels: 1
    changeColor: false
    emptySpriteName: robor0
  - type: Hypospray
    solutionName: pen
    transferAmount: 15
    onlyAffectsMobs: false
    injectOnly: true
  - type: StaticPrice
    vendPrice: 5000
  - type: SolutionContainerManager
    solutions:
      pen:
        maxVol: 15
        reagents:
        - ReagentId: Autosolder
          Quantity: 20
        - ReagentId: Sylexalin
          Quantity: 10

- type: microwaveMealRecipe
  id: RecipeRepairAutoinjector
  name: Synthetic Emergency Autoinjector
  result: RepairAutoinjector
  time: 5
  group: Medicinal
  solids:
    BlankMediPen: 1
  reagents:
    Autosolder: 20
    Sylexalin: 10
  recipeType: MedicalAssembler

- type: microwaveMealRecipe
  id: RecipeRepairSpray
  name: repair spray
  result: RepairSpray
  time: 5
  group: Medicinal
  solids:
    BlankMediPen: 1
    MaterialCloth: 5
  reagents:
    Autosolder: 10
    Sylashizine: 10
    Sylexalin: 10
  recipeType: MedicalAssembler

- type: latheRecipe
  parent: BaseToolRecipe
  id: RepairPatch
  materials:
    Steel: 250
    Plastic: 100
  result: RepairPatch1
  categories:
  - Engineering
  completetime: 5

- type: latheRecipe
  parent: BaseToolRecipe
  id: RepairSpray
  materials:
    Steel: 500
    Plastic: 500
    Gold: 500
    Silver: 500
  result: RepairSpray
  categories:
  - Engineering
  completetime: 20
